<!DOCTYPE html>
<html class="ls-theme-yellow-gold">
    <head>
        <title>Million</title>
        <meta charset="utf-8">
        <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="description" content="O melhor e mais simples gerenciador pessoal de finanças.">
        <link rel="icon" sizes="192x192" href="/locawebstyle/assets/images/ico-boilerplate.png">
        <link rel="apple-touch-icon" href="/locawebstyle/assets/images/ico-boilerplate.png">
        <%= csrf_meta_tags %>
        <%= stylesheet_link_tag 'application', media: 'all' %>
        <link rel="stylesheet" type="text/css" href="//assets.locaweb.com.br/locastyle/3.10.1/stylesheets/locastyle.css">
        <%= javascript_include_tag 'application' %>
    </head>

    <body>
        <div id="app">
            <div class="ls-topbar">
                <!-- Barra de Notificações -->
                <div class="ls-notification-topbar">
                    <!-- Dropdown com detalhes da conta de usuário -->
                    <% if logged_in? %>
                        <div data-ls-module="dropdown" class="ls-dropdown ls-user-account">
                            <a href="#" class="ls-ico-user">
                                <%= content_tag(:span, current_user.presentation_name, class: 'ls-name') %>
                            </a>
                            <nav class="ls-dropdown-nav ls-user-menu">
                                <ul>
                                    <li><%= link_to 'Sair', logout_path, method: :delete %></li>
                                </ul>
                            </nav>
                        </div>
                    <% else %>
                        <div data-ls-module="dropdown" class="ls-dropdown ls-user-account">
                            <a href="#" class="ls-ico-user">
                            </a>
                            <nav class="ls-dropdown-nav ls-user-menu">
                                <ul>
                                    <li><%= link_to 'Cadastre-se', signup_path %></li>
                                    <li><%= link_to 'Entre', login_path %></li>
                                </ul>
                            </nav>
                        </div>
                    <% end %>
                </div>

                <span class="ls-show-sidebar ls-ico-menu"></span>

                <!-- Nome do produto/marca -->
                <h1 class="ls-brand-name">
                    <%= link_to 'Million', root_path, class: 'ls-ico-chart-bar-up' %>
                </h1>
            </div>

            <main class="ls-main">
                <div class="container-fluid">
                    <% if @intro.present? %>
                        <intro :params="<%= @intro %>"></intro>
                    <% end %>
                    <alert
                        :is-alert="<%= flash[:alert].present? %>"
                        :is-notice="<%= flash[:notice].present? %>"
                        :message="<%= (flash[:notice] || flash[:alert]).to_json %>">
                    </alert>

                    <%= yield %>
                </div>
            </main>

            <aside class="ls-sidebar">
                <% if logged_in? %>
                    <nav class="ls-menu hidden-xs">
                        <ul>
                            <li><%= link_to 'Painel',   dashboard_path(current_user), class: 'ls-ico-dashboard',    'aria-label': 'Painel inicial' %></li>
                            <li><%= link_to 'Despesas', expenses_path(current_user),  class: 'ls-ico-cart',         'aria-label': 'Painel de despesas' %></li>
                            <li><%= link_to 'Receitas', revenues_path(current_user),  class: 'ls-ico-chart-bar-up', 'aria-label': 'Painel de receitas' %></li>
                        </ul>
                    </nav>
                    <div data-ls-module="dropdown" class="ls-dropdown ls-user-account ls-active">
                        <a href="#" class="ls-ico-user">
                            <%= content_tag(:span, current_user.presentation_name, class: 'ls-name') %>
                        </a>
                        <nav class="ls-dropdown-nav ls-user-menu" aria-hidden="true">
                            <ul>
                                <li><%= link_to 'Painel',   dashboard_path(current_user), class: 'ls-ico-dashboard',    'aria-label': 'Painel inicial' %></li>
                                <li><%= link_to 'Despesas', expenses_path(current_user),  class: 'ls-ico-cart',         'aria-label': 'Painel de despesas' %></li>
                                <li><%= link_to 'Receitas', revenues_path(current_user),  class: 'ls-ico-chart-bar-up', 'aria-label': 'Painel de receitas' %></li>
                            </ul>
                            <%= link_to 'Sair', logout_path, method: :delete, class: 'ls-btn-logout', role: 'combobox', 'aria-expanded': 'false' %>
                        </nav>
                    </div>
                <% else %>
                    <div data-ls-module="dropdown" class="ls-dropdown ls-user-account">
                        <a href="#" class="ls-ico-user"></a>
                        <nav class="ls-dropdown-nav ls-user-menu">
                            <ul>
                                <li><%= link_to 'Cadastre-se', signup_path %></li>
                                <li><%= link_to 'Entre', login_path %></li>
                            </ul>
                        </nav>
                    </div>
                <% end %>
            </aside>
        </div>
    </body>

    <footer>
        <script src="//assets.locaweb.com.br/locastyle/3.10.1/javascripts/locastyle.js"></script>
        <%= javascript_pack_tag 'application' %>
    </footer>
</html>
